#fn main_demo :i32
  -- Write a file
  call write_file "test_output.txt" "Hello from AILang!"
  v0 :text = call read_file "test_output.txt"
  log "info" "file contents: {0}" v0
  -- Read env var
  v1 :text = call env_get "PATH"
  v2 :bool = != v1 null
  log "info" "PATH exists: {0}" v2
  = 0

#test file_round_trip
  call write_file "test_tmp_ailang.txt" "round trip test"
  v0 :text = call read_file "test_tmp_ailang.txt"
  assert (== v0 "round trip test") "file round trip failed"

#test env_get_path
  v0 = call env_get "PATH"
  assert (!= v0 null) "PATH should exist"

#entry
  v0 :i32 = call main_demo
  = v0
